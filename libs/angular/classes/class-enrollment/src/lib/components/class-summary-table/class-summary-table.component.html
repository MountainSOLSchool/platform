<div>
    <p-treeTable
        [value]="classCostSummaryRows() ?? []"
        [tableStyle]="{ width: '100%', 'min-width': '300px' }"
        [loading]="isLoading()"
        [scrollable]="true"
        responsiveLayout="stack"
    >
        <ng-template pTemplate="header">
            <tr>
                <th>Name</th>
                <th>Semester</th>
                <th>Date</th>
                <th>Cost</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
            <tr [ttRow]="rowNode" [ngClass]="{ 'option-row': rowData.isOption }">
                <td>
                    @if (!rowData.isOption && (rowNode.children?.length > 0 || rowData.hasChildren)) {
                        <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
                    }
                    <span [ngClass]="{ 'ml-6': rowData.isOption }">
                        {{ rowData.name }}
                    </span>
                </td>
                <td>{{ rowData.semester }}</td>
                <td>{{ rowData.date }}</td>
                <td>{{ rowData.isOption ? '+' : '' }}{{ rowData.cost | currency }}</td>
            </tr>
        </ng-template>
    </p-treeTable>
</div>