<div
    style="
        border-radius: 5px;
        margin: 2px;
        padding: 5px;
        display: flex;
        flex-wrap: wrap;
        width: 100%;
    "
>
    @if (row.group) {
        <div>
            <h3>
                {{ row.group.name }}
                @if (getClassRowSavings() !== 0) {
                    <span style="color: #3c82f7">
                        (-{{ getClassRowSavings() | currency }}
                        all-day discount)
                    </span>
                }
            </h3>

            <div
                style="margin-top: 1rem; margin-bottom: 1rem; margin-left: 1rem"
            >
                <p-toggleButton
                    *rxLet="hasPausedClass(); let paused"
                    [disabled]="paused"
                    [inputId]="'select' + row.group.id"
                    [name]="'row_' + row.group.id"
                    [onIcon]="'pi pi-check'"
                    [onLabel]="'Selected all-day'"
                    [offIcon]="'pi pi-plus'"
                    [offLabel]="
                        paused
                            ? 'One or more classes are full'
                            : 'Select all-day'
                    "
                    [ngModel]="row.selected"
                    (ngModelChange)="rowSelectedChange(!row.selected)"
                ></p-toggleButton>
            </div>
        </div>
    }
    <div style="display: flex; flex-wrap: wrap; gap: 10px">
        @for (rowClass of row.classes; track rowClass.id) {
            <div
                [ngStyle]="{
                    flex:
                        row.classes.length > 1
                            ? '1 0 calc(50% - 40px)'
                            : '1 0 calc(100% - 40px)',
                }"
            >
                <sol-class-card
                    [selected]="rowClass.selected"
                    [width]="row.classes.length > 1 ? 'narrower' : 'wider'"
                    [classInfo]="rowClass"
                    (selectedChange)="selectionChanged($event)"
                ></sol-class-card>
            </div>
        }
    </div>
</div>
