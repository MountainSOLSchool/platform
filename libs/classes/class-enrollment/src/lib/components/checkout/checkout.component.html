<ng-container *rxLet="viewModel$; let vm">
    <h3 style="margin-top: 2rem">Discount Codes</h3>
    <div class="field">
        <span class="p-float-label">
            <input
                id="discountCode"
                name="discountCode"
                pInputText
                #discountCode
            />
            <label for="discountCode">Discount Code</label>
            <button
                pButton
                type="button"
                label="Apply"
                style="margin-left: 0.5rem"
                (click)="applyDiscountCode(discountCode.value)"
            ></button>
        </span>
    </div>
    <div class="flex align-items-center" style="margin-top: 2rem">
        <p-chip
            *ngFor="let code of vm.discountCodes"
            [label]="code"
            styleClass="mr-2"
            [removable]="true"
        ></p-chip>
    </div>

    <h3 style="margin-top: 4rem; margin-bottom: 2rem">Payment Method</h3>
    <ng-container *ngIf="vm.hasCreatedAccount; else hasNotCreatedAccount"
        ><sol-messages
            [messages]="vm.errors['hasPaymentMethod']"
        ></sol-messages>
        <sol-payment-collector
            [sessionToken]="sessionToken"
            (paymentMethod)="setPaymentMethod($event)"
        ></sol-payment-collector
    ></ng-container>
    <ng-template #hasNotCreatedAccount>
        <p>
            Before you can enter payment information, you need to create or sign
            into an account on the Account Registration step.
        </p>
    </ng-template>
</ng-container>
